From: =?UTF-8?q?Guido=20G=C3=BCnther?= <agx@sigxcpu.org>
Date: Thu, 2 May 2013 16:48:32 +0200
Subject: Add sanitytest.py

missing from the upstream tarball
---
 python/sanitytest.py |   36 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)
 create mode 100644 python/sanitytest.py

diff --git a/python/sanitytest.py b/python/sanitytest.py
new file mode 100644
index 0000000..ace6792
--- /dev/null
+++ b/python/sanitytest.py
@@ -0,0 +1,36 @@
+#!/usr/bin/python
+
+import libvirt
+
+globals = dir(libvirt)
+
+# Sanity test that the generator hasn't gone wrong
+
+# Look for core classes
+for clsname in ["virConnect",
+                "virDomain",
+                "virDomainSnapshot",
+                "virInterface",
+                "virNWFilter",
+                "virNodeDevice",
+                "virNetwork",
+                "virSecret",
+                "virStoragePool",
+                "virStorageVol",
+                "virStream",
+                ]:
+    assert(clsname in globals)
+    assert(object in getattr(libvirt, clsname).__bases__)
+
+# Constants
+assert("VIR_CONNECT_RO" in globals)
+
+# Error related bits
+assert("libvirtError" in globals)
+assert("VIR_ERR_AUTH_FAILED" in globals)
+assert("virGetLastError" in globals)
+
+# Some misc methods
+assert("virInitialize" in globals)
+assert("virEventAddHandle" in globals)
+assert("virEventRegisterDefaultImpl" in globals)
