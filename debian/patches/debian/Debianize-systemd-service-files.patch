From: =?UTF-8?q?Guido=20G=C3=BCnther?= <agx@sigxcpu.org>
Date: Tue, 26 Jun 2012 09:30:39 +0200
Subject: Debianize systemd service files

---
 daemon/libvirtd.service.in       | 4 ++--
 src/locking/virtlockd.service.in | 1 -
 tools/libvirt-guests.service.in  | 4 ++--
 3 files changed, 4 insertions(+), 5 deletions(-)

diff --git a/daemon/libvirtd.service.in b/daemon/libvirtd.service.in
index 25979ef..ae7bf8e 100644
--- a/daemon/libvirtd.service.in
+++ b/daemon/libvirtd.service.in
@@ -11,8 +11,8 @@ After=dbus.service
 After=iscsid.service
 
 [Service]
-EnvironmentFile=-/etc/sysconfig/libvirtd
-ExecStart=@sbindir@/libvirtd $LIBVIRTD_ARGS
+EnvironmentFile=-/etc/default/libvirt-bin
+ExecStart=@sbindir@/libvirtd $libvirtd_opts
 ExecReload=/bin/kill -HUP $MAINPID
 KillMode=process
 Restart=on-failure
diff --git a/src/locking/virtlockd.service.in b/src/locking/virtlockd.service.in
index a9f9f93..0ef9923 100644
--- a/src/locking/virtlockd.service.in
+++ b/src/locking/virtlockd.service.in
@@ -1,7 +1,6 @@
 [Unit]
 Description=Virtual machine lock manager
 Requires=virtlockd.socket
-After=syslog.target
 
 [Service]
 EnvironmentFile=-/etc/sysconfig/virtlockd
diff --git a/tools/libvirt-guests.service.in b/tools/libvirt-guests.service.in
index d41bf2b..64e97e2 100644
--- a/tools/libvirt-guests.service.in
+++ b/tools/libvirt-guests.service.in
@@ -1,9 +1,9 @@
 [Unit]
 Description=Suspend Active Libvirt Guests
-After=syslog.target network.target
+After=network.target
 
 [Service]
-EnvironmentFile=-/etc/sysconfig/libvirt-guests
+EnvironmentFile=-/etc/default/libvirt-guests
 # Hack just call traditional service until we factor
 # out the code
 ExecStart=@libexecdir@/libvirt-guests.sh start
